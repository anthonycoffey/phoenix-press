{"version":3,"file":"782.a866cd98d8c1c76f127d.js","mappings":"oUAEO,SAASA,EAA2BC,GACzC,OAAO,EAAAC,EAAA,IAAqB,iBAAkBD,EAChD,EAC2B,EAAAE,EAAA,GAAuB,iBAAkB,CAAC,OAAQ,YAC7E,I,UCFA,MAAMC,EAAY,CAAC,iBAAkB,aAmB/BC,GAAkB,EAAAC,EAAA,IAAO,MAAO,CACpCC,KAAM,iBACNN,KAAM,OACNO,kBAAmB,CAACC,EAAOC,KACzB,MAAM,WACJC,GACEF,EACJ,MAAO,CAACC,EAAOE,MAAOD,EAAWE,gBAAkBH,EAAOI,QAAQ,GAP9C,EASrB,EACDH,iBACI,OAAS,CACbI,QAAS,OACTC,WAAY,SACZC,QAAS,IACPN,EAAWE,gBAAkB,CAC/B,gCAAiC,CAC/BK,WAAY,OAkDhB,MA/CiC,cAAiB,SAAqBC,EAASC,GAC9E,MAAMX,GAAQ,OAAgB,CAC5BA,MAAOU,EACPZ,KAAM,oBAEF,eACFM,GAAiB,EAAK,UACtBQ,GACEZ,EACJa,GAAQ,OAA8Bb,EAAOL,GACzCO,GAAa,OAAS,CAAC,EAAGF,EAAO,CACrCI,mBAEIU,EA3CkBZ,KACxB,MAAM,QACJY,EAAO,eACPV,GACEF,EACEa,EAAQ,CACZZ,KAAM,CAAC,QAASC,GAAkB,YAEpC,OAAO,EAAAY,EAAA,GAAeD,EAAOxB,EAA4BuB,EAAQ,EAmCjDG,CAAkBf,GAClC,OAAoB,SAAKN,GAAiB,OAAS,CACjDgB,WAAW,EAAAM,EAAA,GAAKJ,EAAQX,KAAMS,GAC9BV,WAAYA,EACZS,IAAKA,GACJE,GACL,I,UCkEA,EAhIgB,CACf,CACCf,KAAM,YACNqB,KAAM,MACNC,MAAO,sBACPC,MAAO,yCACPC,OAAQ,CACP,CACCxB,KAAM,YACNqB,KAAM,OACNE,MAAO,kBACPE,MAAO,GACPC,UAAU,KAIb,CACC1B,KAAM,QACNwB,OAAQ,CACP,CACCxB,KAAM,QACNqB,KAAM,MACNE,MAAO,0BACPE,MAAO,GACPC,UAAU,GAEX,CACC1B,KAAM,cACNqB,KAAM,WACNE,MAAO,oGACPE,OAAO,EACPC,UAAU,KAIb,CACC1B,KAAM,eACNqB,KAAM,MACNC,MAAO,4BACPC,MAAO,uCACPC,OAAQ,CACP,CACCC,MAAO,GACPJ,KAAM,WACNrB,KAAM,eACN2B,SAAU,GACVD,UAAU,KAIb,CACC1B,KAAM,WACNqB,KAAM,MACNC,MAAO,gCACPC,MAAO,kCACPC,OAAQ,CACP,CACCxB,KAAM,WACNqB,KAAM,MACNE,MAAO,2BACPE,MAAO,GACPG,IAAK,CAAC,EACNF,UAAU,KAIb,CACCL,KAAM,MACNC,MAAO,kBACPC,MAAO,+BACPC,OAAQ,CACP,CACCxB,KAAM,WACNqB,KAAM,OACNE,MAAO,OACPE,MAAO,GACPC,UAAU,GAEX,CACC1B,KAAM,WACNqB,KAAM,OACNE,MAAO,OACPE,MAAO,GACPC,UAAU,GAEX,CACC1B,KAAM,YACNqB,KAAM,OACNE,MAAO,QACPE,MAAO,GACPC,UAAU,GAEX,CACC1B,KAAM,YACNqB,KAAM,OACNE,MAAO,QACPE,MAAO,GACPC,UAAU,KAIb,CACC1B,KAAM,eACNwB,OAAQ,CACP,CACCC,MAAO,GACPI,QAAS,KACTR,KAAM,SACNrB,KAAM,eACN8B,WAAY,iBACZC,QAAS,GACTL,UAAU,KAIb,CACCF,OAAQ,CACP,CACCxB,KAAM,QACNqB,KAAM,OACNE,MAAO,yBACPE,MAAO,GACPC,UAAU,MC1Hd,MAAMM,EAAiB,CACtB,YACA,QACA,eACA,WACA,gBAQKC,EAAuBA,CAACC,EAAYF,IAClCA,EAAeG,OAAOC,GANRC,EAACD,EAAOF,KAC7B,MAAMI,EAAYJ,EAAWK,MAAMC,GAASA,EAAKxC,OAASoC,IAC1D,OAAOE,GAAaG,EAAgBL,GAAOE,EAAUb,MAAM,EAIpBY,CAAcD,EAAOF,KAGvDO,EAAkB,CACvBC,UAAYjB,GACa,KAAjBA,EAAMkB,OAEdC,MAAQnB,GACiB,KAAjBA,EAAMkB,OAEdE,aAAepB,IACNqB,MAAM,IAAIC,KAAKtB,GAAOuB,WAE/BC,SAAWxB,GACc,KAAjBA,EAAMkB,OAEdO,aAAezB,GACP0B,MAAMC,QAAQ3B,IAAUA,EAAM4B,OAAS,GCd1CC,GAASC,EAAAA,EAAAA,OAAK,IAAM,yCACpBC,GAAaD,EAAAA,EAAAA,OAAK,IAAM,gCACxBE,GAAaF,EAAAA,EAAAA,OAAK,IAAM,yCAEf,SAASG,IACvB,MAAOC,IAAaC,EAAAA,EAAAA,UAASC,IAAgB,IACtCC,EAAkBC,IAAuBH,EAAAA,EAAAA,WAAS,IAClDI,EAASC,IAAcL,EAAAA,EAAAA,WAAS,IAChCM,EAAWC,IAAgBP,EAAAA,EAAAA,WAAS,IACpCQ,EAAaC,IAAkBT,EAAAA,EAAAA,WAAS,IACxCU,EAAkBC,IAAuBX,EAAAA,EAAAA,UAAS,OAClDY,EAAcC,IAAmBb,EAAAA,EAAAA,UAAS,IAAIb,OAC9C2B,EAASC,IAAcf,EAAAA,EAAAA,WAAS,IAChCgB,EAAgBC,IAAqBjB,EAAAA,EAAAA,UAAS,OAErDkB,EAAAA,EAAAA,YAAU,KACT,GAAIC,OAAOC,UAAW,CACrB,MAAMC,EAAKF,OAAOC,UAAUE,OAAO,oBAAqB,CACvDC,QAASC,UAAUC,mBACnBC,SAAWC,IACVV,EAAkBU,EAAM,EAEzB,mBAAoBC,KACnBT,OAAOC,UAAUS,MAAMR,EAAG,GAG7B,IACE,IAEH,MAqEMS,EAAmBA,EAAGC,QAAOC,YAClCD,EAAMlE,MAAQmE,GAAOC,QAAQpE,KAAK,EAG7BqE,EAAmBA,EAAGH,QAAOC,YAClCD,EAAMlE,MAAQmE,EACdnB,EAAgBmB,EAAM,EAGjBG,EAAaA,CAACC,GAAS,KAC5B,GAAKhC,IAAWF,IAAoBc,EAGnC,OAAO,EAlFYqB,OAAOD,GAAS,KACpC,IAAKpB,IAAmBd,EAAkB,OAAO,EAEjDG,GAAW,GACX,MAAM/B,EAAayB,EAAUuC,SAASC,GACrCA,EAAS3E,OAAO4E,KAAKT,IACpB,MAAM,KAAE3F,EAAI,MAAEyB,EAAK,IAAEG,GAAQ+D,EAC7B,OAAO/D,EAAM,CAAE5B,OAAMyB,QAAOG,OAAQ,CAAE5B,OAAMyB,QAAO,MAI/C4E,EAAU,CACf,eAAgB,mBAChB,oBAAqBzB,GAGhB0B,EACLvB,OAAO9B,SAASsD,OAAOC,QAAQ,eAAgB,IAC/CzB,OAAO9B,SAASwD,SAASD,QAAQ,MAAO,IAEzC,IAAK5B,EAAgB,OAAO,EAE5B,IACC,MAAM8B,EAAYzE,EAAqBC,EAAYF,GAEnD,GAAIsC,QACGqC,MACL,GAAGvB,UAAUwB,4BAA4BtC,IACzC,CACCuC,OAAQ,MACRR,UACAS,KAAMC,KAAKC,UAAU,CAAE9E,aAAYoE,SAAQI,oBAGvC,CACDtC,IACJC,GAAe,GACXU,QAAQkC,WACXlC,OAAOkC,UAAUC,KAAK,CACrBtB,MAAO,gBAKV,MAAMuB,QAAiBR,MACtB,GAAGvB,UAAUwB,2BACb,CACCC,OAAQ,OACRR,UACAS,KAAMC,KAAKC,UAAU,CAAE9E,aAAYoE,SAAQI,gBAIvCU,QAAeD,EAASE,OAC1BD,GAAQnC,IACXV,EAAoB6C,GAAQnC,GAE9B,CAEIe,GACH7B,GAAa,EAEf,CAAE,MAAOmD,GACRC,QAAQD,MAAM,qBAAsBA,EACrC,CAAE,QACDrD,GAAW,EACZ,GAcMuD,CAAaxB,EAGnB,EAGKyB,EAAsBA,EAAG9B,QAAOC,YACrC,MAAM,QAAElB,GAAYkB,GAAOC,OAC3BF,EAAMlE,MAAQiD,EACdC,EAAWD,GACXqB,GAAY,EAGb,OACC2B,EAAAA,EAAAA,eAAA,gBACCA,EAAAA,EAAAA,eAACC,EAAAA,EAAI,CAAC7G,UAAU,gBACdsE,UAAUwC,aACVF,EAAAA,EAAAA,eAACG,EAAAA,EAAU,CACVvG,MAAO8D,UAAUwC,WACjBE,UAAW1C,UAAU2C,gBAGtB7D,IACAwD,EAAAA,EAAAA,eAACM,EAAAA,EAAW,MACXN,EAAAA,EAAAA,eAACO,EAAAA,EAAK,CAACC,MAAO,IACbR,EAAAA,EAAAA,eAACpE,EAAM,CACN6C,SAAU,CACTgC,OAAQ/C,UAAUgD,yBAOrBlE,IACDwD,EAAAA,EAAAA,eAAA,QACC,aAAW,mBACXW,aAAa,KACbC,YAAU,IAEVZ,EAAAA,EAAAA,eAACM,EAAAA,EAAW,MACXN,EAAAA,EAAAA,eAACO,EAAAA,EAAK,CAACC,MAAO,GACZvE,GAAWyC,KAAI,CAACD,EAAUoC,IACJ,QAAlBpC,EAAS9E,MAEXqG,EAAAA,EAAAA,eAAAc,EAAAA,SAAA,MACCd,EAAAA,EAAAA,eAACe,EAAAA,EAAU,CACVC,QAAQ,YACRC,GAAI,CAAEC,GAAI,QACVC,MAAM,iBAEL1C,EAAS7E,OACVoG,EAAAA,EAAAA,eAACe,EAAAA,EAAU,CACVC,QAAQ,YACRG,MAAM,iBAEL1C,EAAS5E,SAIZmG,EAAAA,EAAAA,eAACoB,EAAAA,EAAG,CACHC,IAAKR,EACL/H,QAAQ,OACRwI,cAAc,MACdL,GAAI,CAAEM,MAAO,QACbC,IAAK,GAEJ/C,EAAS3E,OAAO4E,KAChB,CAACT,EAAO4C,KACPb,EAAAA,EAAAA,eAAClE,EAAU,CACVuF,IAAKR,EACL5C,MAAOA,EACPD,iBACCA,EAEDI,iBACCA,EAED2B,oBACCA,EAEDjD,aACCA,EAEDT,oBACCA,EAEDW,QACCA,EAEDC,WACCA,EAEDoB,WACCA,QASAI,EAAS3E,OAAO4E,KACtB,CAACT,EAAO4C,KACPb,EAAAA,EAAAA,eAAClE,EAAU,CACVuF,IAAKR,EACL5C,MAAOA,EACPD,iBACCA,EAEDI,iBACCA,EAED2B,oBACCA,EAEDjD,aAAcA,EACdT,oBACCA,EAEDW,QAASA,EACTC,WAAYA,EACZoB,WAAYA,UAOlB2B,EAAAA,EAAAA,eAACoB,EAAAA,EAAG,MACHpB,EAAAA,EAAAA,eAACjE,EAAU,CAAC8E,MAAO,MAEpBb,EAAAA,EAAAA,eAAA,OACCzC,GAAG,mBACHnE,UAAU,eACVqI,MAAO,CACN3I,QAAS,OACT4I,eAAgB,SAChBC,OAAQ,SACR3I,QAAS,QAEV,eAAc0E,UAAUC,sBAEzBqC,EAAAA,EAAAA,eAAAc,EAAAA,SAAA,KAAGxE,IAAW0D,EAAAA,EAAAA,eAAC4B,EAAAA,EAAc,SAG9B5B,EAAAA,EAAAA,eAAC6B,EAAW,CAACZ,GAAI,CAAES,eAAgB,SAClC1B,EAAAA,EAAAA,eAAC8B,EAAAA,EAAM,CACNd,QAAQ,YACRG,MAAM,UACNY,QAASA,KACH1D,GAAW,EAAK,EAEtB2D,SACC1F,IACCF,IACAc,GAEF,aASR,C","sources":["webpack://phoenix-press/./node_modules/@mui/material/CardActions/cardActionsClasses.js","webpack://phoenix-press/./node_modules/@mui/material/CardActions/CardActions.js","webpack://phoenix-press/./src/utils/embed-form-data.js","webpack://phoenix-press/./src/utils/validation.js","webpack://phoenix-press/./src/components/EmbedForm.jsx"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nconst cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\nconst CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8\n}, !ownerState.disableSpacing && {\n  '& > :not(style) ~ :not(style)': {\n    marginLeft: 8\n  }\n}));\nconst CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n  const {\n      disableSpacing = false,\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActions;","const options = [\n\t{\n\t\tname: 'full_name',\n\t\ttype: 'row',\n\t\ttitle: 'Contact Information',\n\t\tlabel: 'Please enter your contact information.',\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: 'full_name',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: 'Enter your name',\n\t\t\t\tvalue: '',\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'phone',\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: 'phone',\n\t\t\t\ttype: 'tel',\n\t\t\t\tlabel: 'Enter your phone number',\n\t\t\t\tvalue: '',\n\t\t\t\toptional: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'sms_consent',\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tlabel: 'Yes, send me SMS updates and notifications to keep me informed about my roadside service request.',\n\t\t\t\tvalue: false,\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'service_time',\n\t\ttype: 'row',\n\t\ttitle: 'When do you need service?',\n\t\tlabel: 'Please verify service date and time.',\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tvalue: '',\n\t\t\t\ttype: 'datetime',\n\t\t\t\tname: 'service_time',\n\t\t\t\tselected: '',\n\t\t\t\toptional: false,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'location',\n\t\ttype: 'row',\n\t\ttitle: 'Where is the vehicle located?',\n\t\tlabel: 'Please verify service location.',\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: 'location',\n\t\t\t\ttype: 'geo',\n\t\t\t\tlabel: 'Search for your location',\n\t\t\t\tvalue: '',\n\t\t\t\tobj: {},\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\ttype: 'row',\n\t\ttitle: 'Vehicle Details',\n\t\tlabel: 'Year, Make, Model, and Color',\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: 'car_year',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: 'Year',\n\t\t\t\tvalue: '',\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'car_make',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: 'Make',\n\t\t\t\tvalue: '',\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'car_model',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: 'Model',\n\t\t\t\tvalue: '',\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'car_color',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: 'Color',\n\t\t\t\tvalue: '',\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: 'service_type',\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tvalue: [],\n\t\t\t\tvalueId: null,\n\t\t\t\ttype: 'select',\n\t\t\t\tname: 'service_type',\n\t\t\t\toptionsKey: 'serviceOptions',\n\t\t\t\toptions: [],\n\t\t\t\toptional: false,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: 'notes',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: 'Additional Information',\n\t\t\t\tvalue: '',\n\t\t\t\toptional: true,\n\t\t\t},\n\t\t],\n\t},\n];\n\nexport default options;\n","const requiredFields = [\n\t'full_name',\n\t'phone',\n\t'service_time',\n\t'location',\n\t'service_type',\n];\n\nconst validateField = (field, submission) => {\n\tconst fieldData = submission.find((item) => item.name === field);\n\treturn fieldData && validationRules[field](fieldData.value);\n};\n\nconst isSubmissionComplete = (submission, requiredFields) => {\n\treturn requiredFields.every((field) => validateField(field, submission));\n};\n\nconst validationRules = {\n\tfull_name: (value) => {\n\t\treturn value.trim() !== '';\n\t},\n\tphone: (value) => {\n\t\treturn value.trim() !== '';\n\t},\n\tservice_time: (value) => {\n\t\treturn !isNaN(new Date(value).getTime());\n\t},\n\tlocation: (value) => {\n\t\treturn value.trim() !== '';\n\t},\n\tservice_type: (value) => {\n\t\treturn Array.isArray(value) && value.length > 0;\n\t},\n};\n\nexport { requiredFields, validateField, isSubmissionComplete, validationRules };\n","import React, { useEffect, useState, lazy, Suspense } from 'react';\nimport {\n\tBox,\n\tButton,\n\tCard,\n\tCardContent,\n\tCardActions,\n\tStack,\n\tTypography,\n\tLinearProgress,\n\tCardHeader,\n} from '@mui/material';\nimport questionData from '../utils/embed-form-data';\nimport '../styles.sass';\nimport { requiredFields, isSubmissionComplete } from '../utils/validation';\n\n// Lazy load components\nconst Prompt = lazy(() => import('./Prompt'));\nconst InputField = lazy(() => import('./InputField'));\nconst Disclaimer = lazy(() => import('./Disclaimer'));\n\nexport default function EmbedForm() {\n\tconst [questions] = useState(questionData || false);\n\tconst [validPhoneNumber, setValidPhoneNumber] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [submitted, setSubmitted] = useState(false);\n\tconst [formStarted, setFormStarted] = useState(false);\n\tconst [formSubmissionId, setFormSubmissionId] = useState(null);\n\tconst [selectedDate, setSelectedDate] = useState(new Date());\n\tconst [checked, setChecked] = useState(false);\n\tconst [turnstileToken, setTurnstileToken] = useState(null);\n\n\tuseEffect(() => {\n\t\tif (window.turnstile) {\n\t\t\tconst id = window.turnstile.render('#turnstile-widget', {\n\t\t\t\tsitekey: LOCALIZED.TURNSTILE_SITE_KEY,\n\t\t\t\tcallback: (token) => {\n\t\t\t\t\tsetTurnstileToken(token);\n\t\t\t\t},\n\t\t\t\t'expired-callback': () => {\n\t\t\t\t\twindow.turnstile.reset(id);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}, []);\n\n\tconst handleSubmit = async (submit = false) => {\n\t\tif (!turnstileToken && !validPhoneNumber) return false;\n\n\t\tsetLoading(true);\n\t\tconst submission = questions.flatMap((question) =>\n\t\t\tquestion.inputs.map((input) => {\n\t\t\t\tconst { name, value, obj } = input;\n\t\t\t\treturn obj ? { name, value, obj } : { name, value };\n\t\t\t})\n\t\t);\n\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'X-Turnstile-Token': turnstileToken,\n\t\t};\n\n\t\tconst source =\n\t\t\twindow.location.origin.replace(/^https?:\\/\\//, '') +\n\t\t\twindow.location.pathname.replace(/\\/$/, '');\n\n\t\tif (!turnstileToken) return false;\n\n\t\ttry {\n\t\t\tconst completed = isSubmissionComplete(submission, requiredFields);\n\n\t\t\tif (formSubmissionId) {\n\t\t\t\tawait fetch(\n\t\t\t\t\t`${LOCALIZED.API_URL}/submit-lead-form/${formSubmissionId}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tbody: JSON.stringify({ submission, source, completed }),\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (!formStarted) {\n\t\t\t\t\tsetFormStarted(true);\n\t\t\t\t\tif (window?.dataLayer) {\n\t\t\t\t\t\twindow.dataLayer.push({\n\t\t\t\t\t\t\tevent: 'form_start',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${LOCALIZED.API_URL}/submit-lead-form`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tbody: JSON.stringify({ submission, source, completed }),\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tconst result = await response.json();\n\t\t\t\tif (result?.id) {\n\t\t\t\t\tsetFormSubmissionId(result?.id);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (submit) {\n\t\t\t\tsetSubmitted(true);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('There was an error', error);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleTextChange = ({ input, event }) => {\n\t\tinput.value = event?.target?.value;\n\t};\n\n\tconst handleDateChange = ({ input, event }) => {\n\t\tinput.value = event;\n\t\tsetSelectedDate(event);\n\t};\n\n\tconst handleBlur = (submit = false) => {\n\t\tif (!loading && validPhoneNumber && turnstileToken) {\n\t\t\tvoid handleSubmit(submit);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tconst handleConsentChange = ({ input, event }) => {\n\t\tconst { checked } = event?.target;\n\t\tinput.value = checked;\n\t\tsetChecked(checked);\n\t\thandleBlur();\n\t};\n\n\treturn (\n\t\t<section>\n\t\t\t<Card className=\"phoenix-form\">\n\t\t\t\t{LOCALIZED.FORM_TITLE && (\n\t\t\t\t\t<CardHeader\n\t\t\t\t\t\ttitle={LOCALIZED.FORM_TITLE}\n\t\t\t\t\t\tsubheader={LOCALIZED.FORM_SUBTITLE}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{submitted && (\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Stack space={2}>\n\t\t\t\t\t\t\t<Prompt\n\t\t\t\t\t\t\t\tquestion={{\n\t\t\t\t\t\t\t\t\tprompt: LOCALIZED.SUBMISSION_MESSAGE,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</CardContent>\n\t\t\t\t)}\n\n\t\t\t\t{!submitted && (\n\t\t\t\t\t<form\n\t\t\t\t\t\taria-label=\"Form Description\"\n\t\t\t\t\t\tautoComplete=\"on\"\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Stack space={4}>\n\t\t\t\t\t\t\t\t{questions?.map((question, index) => {\n\t\t\t\t\t\t\t\t\tif (question.type === 'row') {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{ mt: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{question.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"subtitle2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{question.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgap={2}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{question.inputs.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(input, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput={input}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleTextChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleTextChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleConsentChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleConsentChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedDate={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedDate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValidPhoneNumber={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValidPhoneNumber\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetChecked={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetChecked\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleBlur={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleBlur\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn question.inputs.map(\n\t\t\t\t\t\t\t\t\t\t\t(input, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tinput={input}\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleTextChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleTextChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleConsentChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleConsentChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedDate={selectedDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetValidPhoneNumber={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValidPhoneNumber\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetChecked={setChecked}\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Disclaimer index={0} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid=\"turnstile-widget\"\n\t\t\t\t\t\t\t\tclassName=\"cf-turnstile\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\tmargin: '1rem 0',\n\t\t\t\t\t\t\t\t\tpadding: '1rem',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdata-sitekey={LOCALIZED.TURNSTILE_SITE_KEY}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t<>{loading && <LinearProgress />}</>\n\t\t\t\t\t\t</CardContent>\n\n\t\t\t\t\t\t<CardActions sx={{ justifyContent: 'end' }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tvoid handleBlur(true);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tloading ||\n\t\t\t\t\t\t\t\t\t!validPhoneNumber ||\n\t\t\t\t\t\t\t\t\t!turnstileToken\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t</form>\n\t\t\t\t)}\n\t\t\t</Card>\n\t\t</section>\n\t);\n}\n"],"names":["getCardActionsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardActionsRoot","styled","name","overridesResolver","props","styles","ownerState","root","disableSpacing","spacing","display","alignItems","padding","marginLeft","inProps","ref","className","other","classes","slots","composeClasses","useUtilityClasses","clsx","type","title","label","inputs","value","optional","selected","obj","valueId","optionsKey","options","requiredFields","isSubmissionComplete","submission","every","field","validateField","fieldData","find","item","validationRules","full_name","trim","phone","service_time","isNaN","Date","getTime","location","service_type","Array","isArray","length","Prompt","lazy","InputField","Disclaimer","EmbedForm","questions","useState","questionData","validPhoneNumber","setValidPhoneNumber","loading","setLoading","submitted","setSubmitted","formStarted","setFormStarted","formSubmissionId","setFormSubmissionId","selectedDate","setSelectedDate","checked","setChecked","turnstileToken","setTurnstileToken","useEffect","window","turnstile","id","render","sitekey","LOCALIZED","TURNSTILE_SITE_KEY","callback","token","expired-callback","reset","handleTextChange","input","event","target","handleDateChange","handleBlur","submit","async","flatMap","question","map","headers","source","origin","replace","pathname","completed","fetch","API_URL","method","body","JSON","stringify","dataLayer","push","response","result","json","error","console","handleSubmit","handleConsentChange","createElement","Card","FORM_TITLE","CardHeader","subheader","FORM_SUBTITLE","CardContent","Stack","space","prompt","SUBMISSION_MESSAGE","autoComplete","noValidate","index","Fragment","Typography","variant","sx","mt","color","Box","key","flexDirection","width","gap","style","justifyContent","margin","LinearProgress","CardActions","Button","onClick","disabled"],"sourceRoot":""}