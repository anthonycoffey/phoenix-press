!function(){"use strict";var e,t,n,r={728:function(e,t,n){n.r(t);var r=n(9502),a=n(1609),o=n.n(a),l=n(900);t.default=({index:e})=>0===e&&o().createElement(o().Fragment,null,LOCALIZED.DISCLAIMER_MESSAGE&&o().createElement(r.A,{severity:"info",sx:{padding:"1rem"}},(0,l.Ay)(LOCALIZED.DISCLAIMER_MESSAGE)))},4942:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(1609),a=n.n(r),o=n(5583),l=n(1385),i=n(4247),s=n(7636),c=(0,i.A)(s.A)((({theme:e})=>({backgroundColor:"#f0f0f0",borderRadius:"20px",padding:"10px 15px",position:"relative",maxWidth:"80%"}))),u=n(900),d=({question:e})=>{var t;const n=null!==(t=LOCALIZED?.ASSETS_URL)&&void 0!==t?t:"";return a().createElement(o.A,{direction:"row",spacing:2,alignItems:"flex-start"},a().createElement(l.A,{src:`${n}/avatar.jpg`,alt:"Technician Avatar"}),a().createElement(c,null,a().createElement("label",null,(0,u.Ay)(e.prompt))))}},1777:function(e,t,n){var r=n(1609),a=n.n(r),o=n(5338),l=n(4977),i=n(3650),s=n(4798),c=n(7636),u=n(5583),d=n(3357),m=n(2299),p=n(4942),f=n(1620),v=n(8864),g=n(4389),h=n(5737),y=n(8014),E=n(2687),b=n(8870),x=[{name:"phone",prompt:"What is your phone number?",inputs:[{name:"phone",type:"tel",label:"Enter your phone number",value:"",optional:!1},{name:"sms_consent",type:"checkbox",label:"Yes, send me SMS updates and notifications to keep me informed about my roadside service request.",value:!1,optional:!0}]},{name:"full_name",prompt:"What is your name?",inputs:[{name:"full_name",type:"text",label:"Full Name",value:"",optional:!0}]},{name:"location",prompt:"What is your current location?",inputs:[{name:"location",type:"geo",label:"Search for your location",value:"",obj:{},optional:!0}]},{name:"service_time",prompt:"When do you need service?",inputs:[{value:"",type:"datetime",name:"service_time",selected:"",optional:!1}]},{name:"service_type",prompt:"What service do you need?",inputs:[{value:[],valueId:null,type:"select",name:"service_type",optionsKey:"serviceOptions",options:[],optional:!1}]},{prompt:"Please provide your car details",inputs:[{name:"car_make",type:"text",label:"Car Make",value:"",optional:!0},{name:"car_model",type:"text",label:"Car Model",value:"",optional:!0},{name:"car_year",type:"text",label:"Car Year",value:"",optional:!0},{name:"car_color",type:"text",label:"Color",value:"",optional:!0},{name:"car_plate",type:"text",label:"License Plate",value:"",optional:!0}]},{prompt:"Please provide any additional information",inputs:[{name:"notes",type:"textarea",label:"Additional Information",value:"",optional:!0}]}],A=n(2342);const w=(0,r.createContext)(),S=({children:e})=>{const[t,n]=(0,r.useState)(x||null),[o,l]=(0,r.useState)(0),[i,s]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),[p,f]=(0,r.useState)(A.A||null),[v,g]=(0,r.useState)({});return a().createElement(w.Provider,{value:{questions:t,setQuestions:n,currentQuestionIndex:o,setCurrentQuestionIndex:l,loading:i,setLoading:s,submitted:c,setSubmitted:u,isFormVisible:d,setIsFormVisible:m,services:p,setServices:f,errors:v,setErrors:g}},e)};var C=n(7458),_=n(1769);const T=a().lazy((()=>n.e(982).then(n.bind(n,9982)))),k=a().lazy((()=>n.e(86).then(n.bind(n,1086)))),L=a().lazy((()=>n.e(110).then(n.bind(n,8729)))),I=a().lazy((()=>n.e(223).then(n.bind(n,2223)))),O=e=>{const t={};if(!e)return t;const n=e.find((e=>e.types.includes("street_number")))?.long_name,r=e.find((e=>e.types.includes("route")))?.short_name;return t.address_1=n&&r?`${n} ${r}`:"",t.city=e.find((e=>e.types.includes("locality")))?.long_name||"",t.state=e.find((e=>e.types.includes("administrative_area_level_1")))?.short_name||"",t.country=e.find((e=>e.types.includes("country")))?.short_name||"",t.zipcode=e.find((e=>e.types.includes("postal_code")))?.long_name||"",t},R=["places"];function P({input:e}){const{questions:t,currentQuestionIndex:n,setQuestions:o,errors:l,setErrors:i}=(0,r.useContext)(w),[s,c]=(0,r.useState)(!1),u=(0,r.useRef)(null),{isLoaded:m,loadError:p}=(0,_.RH)({googleMapsApiKey:LOCALIZED?.GMAPS_API_KEY,libraries:R});(0,r.useEffect)((()=>{if(u.current&&window.google)try{const e=new window.google.maps.places.Autocomplete(u.current);return e.addListener("place_changed",(()=>{try{const t=e.getPlace(),n=O(t.address_components);f(n)}catch(e){console.error("Error handling place_changed event:",e)}})),()=>{window.google.maps.event.clearInstanceListeners(e)}}catch(e){console.error("Error initializing Google Maps Autocomplete:",e)}}),[m]);const f=e=>{try{const r=[...t],a=r[n].inputs.find((e=>"location"===e.name));e.nativeEvent instanceof Event?a.value=e.target.value:(a.obj=e,a.value=`${e.address_1}, ${e.city}, ${e.state} ${e.zipcode}`),o(r);const s=v(a);i({...l,[a.name]:s})}catch(e){console.error("Error handling input change:",e)}},v=e=>{if(!e.optional)return e.value.trim()?"":"This field is required"};return p?(console.error("Error loading maps:",p),a().createElement("div",null,"Error loading maps")):m?a().createElement(r.Suspense,{fallback:a().createElement(d.A,null)},a().createElement(k,{spacing:2,direction:"column",sx:{marginTop:"1rem"}},a().createElement(T,{label:e.label,name:e.name,value:e.value,onChange:f,variant:"outlined",margin:"normal",fullWidth:!0,inputRef:u,InputProps:{endAdornment:s?a().createElement(d.A,{size:20}):null},required:!e.optional,error:!!l[e.name],helperText:l[e.name]}),a().createElement(L,{variant:"contained","aria-label":"Use my location",color:"primary",onClick:()=>{navigator.geolocation?(c(!0),navigator.geolocation.getCurrentPosition((e=>{try{const{latitude:t,longitude:n}=e.coords;(new window.google.maps.Geocoder).geocode({location:{lat:t,lng:n}},((e,t)=>{if(c(!1),"OK"===t&&e[0]){const t=O(e[0].address_components);f(t)}else console.error("Geocoder failed due to:",t)}))}catch(e){c(!1),console.error("Error in geolocation success callback:",e)}}),(e=>{c(!1),console.error("Error in getting geolocation:",e)}))):console.error("Geolocation is not supported by your browser.")},disabled:s},s?a().createElement(d.A,{size:20}):a().createElement(I,null),"Use My Current Location"))):a().createElement(C.A,null)}var j=n(779),q=n(9307),D=n(5724),M=n(3313),$=n(6347);function N({input:e}){const{questions:t,currentQuestionIndex:n,setQuestions:a,services:o,errors:l,setErrors:i}=(0,r.useContext)(w),[s,c]=(0,r.useState)([]),u=e=>{const{value:t,checked:n}=e.target;c((e=>n?[...e,t]:e.filter((e=>e!==t))))};(0,r.useEffect)((()=>{const e=[...t],r=e[n].inputs.find((e=>"service_type"===e.name)),c=o.filter((e=>s.includes(e.value)));r.value=c.map((e=>({value:e.value,id:e.id}))),a(e);const u=d(r);i({...l,[r.name]:u})}),[s]);const d=e=>{if(!e.optional)return e.value.length<1?"This field is required":""};return React.createElement(j.A,{component:"fieldset",fullWidth:!0,margin:"dense",error:l.service_type},React.createElement(q.A,{component:"legend"},"Select desired service(s)"),React.createElement(D.A,null,React.createElement(M.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1,padding:0}},o.map((e=>React.createElement(v.A,{sx:{margin:0},control:React.createElement(g.A,{value:e.value,checked:s.includes(e.value),onChange:u,name:e.name,size:"small"}),label:e.text}))))),React.createElement($.A,null,l.service_type))}function F({input:e,onChange:t}){const{errors:n,setErrors:a}=(0,r.useContext)(w);return React.createElement(f.A,{label:e.label,name:e.name,value:e.value,onChange:r=>{const{value:o}=r.target,l=(e=>{const t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`})(o),i=(e=>10!==e.replace(/\D/g,"").length?"Valid phone number is required.":"")(l);a({...n,[e.name]:i}),t({target:{name:"phone",value:l}})},fullWidth:!0,variant:"outlined",margin:"normal",type:"tel",required:!e.optional,error:!!n[e.name],helperText:n[e.name]})}var B=n(900),U=({question:e})=>{const{errors:t,setErrors:n}=(0,r.useContext)(w),{questions:o,setQuestions:l,currentQuestionIndex:i}=(0,r.useContext)(w),[s,c]=(0,r.useState)(new Date);(0,r.useEffect)((()=>{if(o){const e=[...o],t=e[i].inputs.find((e=>"service_time"===e.name));t&&(t.value=s,l(e))}}),[e,s]);const d=e=>{c(e)},m=e=>{const{name:r,value:a,type:s,checked:c}=e.target,u=[...o],d=u[i].inputs.find((e=>e.name===r));if(d.value="checkbox"===s?c:a,l(u),"text"===d.type||"checkbox"===d.type){const e=p(d);n({...t,[d.name]:e})}},p=e=>{if(!e.optional)switch(e.type){case"text":return e.value.trim()?"":"This field is required";case"checkbox":return e.value?"":"This field is required";default:return""}return""};return a().createElement(a().Fragment,null,e.inputs.map(((e,n)=>"tel"===e.type?a().createElement(F,{input:e,key:n,onChange:m}):"text"===e.type?a().createElement(f.A,{key:n,label:e.label,name:e.name,value:e.value,onChange:m,fullWidth:!0,variant:"outlined",margin:"normal",error:!!t[e.name],helperText:t[e.name],required:!e.optional}):"geo"===e.type?a().createElement(P,{input:e,key:n}):"select"===e.type?a().createElement(N,{input:e,key:n}):"textarea"===e.type?a().createElement(f.A,{key:n,label:e.label,name:e.name,value:e.value,onChange:m,fullWidth:!0,multiline:!0,rows:2,required:!e.optional,variant:"outlined",margin:"normal"}):"checkbox"===e.type?a().createElement(v.A,{sx:{marginBottom:"1rem"},key:n,control:a().createElement(g.A,{checked:e.value,onChange:m,name:e.name,required:!e.optional}),label:(0,B.Ay)(LOCALIZED.SMS_CONTENT_MESSAGE||e.label)}):"datetime"===e.type?a().createElement(h.$,{dateAdapter:b.h,key:n},a().createElement(u.A,{direction:"row",spacing:2,sx:{marginTop:"1rem"}},a().createElement(y.l,{label:"Select Date",value:s,onChange:d,disablePast:!0,fullWidth:!0}),a().createElement(E.A,{label:"Select Time",value:s,onChange:d,fullWidth:!0}))):null)))},W=n(728);const z=(0,r.lazy)((()=>n.e(62).then(n.bind(n,5062)))),Q=()=>{const{questions:e,currentQuestionIndex:t,setCurrentQuestionIndex:n,loading:o,setLoading:f,submitted:v,setSubmitted:g,isFormVisible:h,setIsFormVisible:y,errors:E}=(0,r.useContext)(w),b=e[t],[x,A]=(0,r.useState)(!0),[S,C]=(0,r.useState)(!1),[_,T]=(0,r.useState)(null),[k,L]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=b.inputs.some((e=>E[e.name]));A(e)}),[E]),(0,r.useEffect)((()=>{if(h&&window.turnstile){const e=window.turnstile.render("#conversation-turnstile-widget",{sitekey:LOCALIZED.TURNSTILE_SITE_KEY,callback:e=>{L(e)},"expired-callback":()=>{window.turnstile.reset(e)}})}}),[h]);const I=()=>{y(!h)};return a().createElement("section",null,a().createElement("button",{onClick:I,id:"phoenix-show-form-button","aria-label":"Show Lead Form"},a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"e-font-icon-svg e-fas-comment-alt",viewBox:"0 0 512 512",width:"24",height:"24",fill:"#fff"},a().createElement("path",{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"}))),h&&a().createElement(l.A,{className:"phoenix-form"},a().createElement(i.A,{action:a().createElement(s.A,{onClick:I,"aria-label":"close"},a().createElement(m.A,null))}),a().createElement(a().Fragment,null,v&&a().createElement(c.A,null,a().createElement(u.A,{space:2},a().createElement(p.default,{question:{prompt:LOCALIZED.SUBMISSION_MESSAGE}}))),!v&&a().createElement(a().Fragment,null,a().createElement(c.A,null,a().createElement(u.A,{space:2},a().createElement(p.default,{question:b}),a().createElement(U,{question:b})),a().createElement(u.A,{direction:"row",spacing:2,sx:{width:"100%",display:"flex",my:"1rem",justifyContent:t>0?"space-between":"flex-end"}},t>0&&a().createElement(s.A,{variant:"contained",loading:o,onClick:()=>n(t-1)},"Back"),a().createElement(s.A,{sx:{justifySelf:"end"},variant:"contained",color:"primary",onClick:()=>{(async()=>{f(!0);const r=e.flatMap((e=>e.inputs.map((e=>{const{name:t,value:n,obj:r}=e;return r?{name:t,value:n,obj:r}:{name:t,value:n}})))),a={"Content-Type":"application/json","X-Turnstile-Token":k},o=window.location.origin.replace(/^https?:\/\//,"")+window.location.pathname.replace(/\/$/,"");if(t+1===e.length)return await(async(e,t)=>{try{f(!0),g(!0),_&&await fetch(`${LOCALIZED.API_URL}/submit-lead-form/${_}`,{method:"PUT",headers:{"Content-Type":"application/json","X-Turnstile-Token":k},body:JSON.stringify({submission:e,completed:!0,source:t})}),window?.dataLayer&&window.dataLayer.push({event:"form_submit",submission:e,source:t,completed:!0})}catch(e){console.error("There was an error",e)}finally{f(!1)}})(r,o);n(t+1),S||(C(!0),window?.dataLayer&&window.dataLayer.push({event:"form_start"}));try{if(!k)return!1;if(_)await fetch(`${LOCALIZED.API_URL}/submit-lead-form/${_}`,{method:"PUT",headers:a,body:JSON.stringify({submission:r,source:o})});else{const e=await fetch(`${LOCALIZED.API_URL}/submit-lead-form`,{method:"POST",headers:a,body:JSON.stringify({submission:r,source:o})}),t=await e.json();t?.id&&T(t?.id)}}catch(e){console.error("There was an error",e)}finally{f(!1)}})()},disabled:x||!k||v},t+1===e.length?"Submit":"Next")),a().createElement(u.A,{direction:"row",spacing:2,sx:{width:"100%",display:"flex",my:"1rem",justifyContent:"center",alignItems:"center"}},a().createElement(a().Fragment,null,o||!k&&a().createElement(d.A,null))),a().createElement(W.default,{index:t})))),a().createElement("div",{id:"conversation-turnstile-widget",className:"cf-turnstile",style:{display:"flex",justifyContent:"center",margin:"1rem 0",padding:"1rem"},"data-sitekey":LOCALIZED.TURNSTILE_SITE_KEY})))};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("phoenix-form-root");e&&(0,o.H)(e).render(a().createElement(S,null,a().createElement(Q,null))),document.querySelectorAll(".phoenix-form-embed-root").forEach((e=>{(0,o.H)(e).render(a().createElement(r.Suspense,{fallback:a().createElement(d.A,null)},a().createElement(z,null)))}))}))},2342:function(e,t){t.A=[{text:"Automotive Unlocking",value:"Automotive Unlocking",id:1},{text:"Key Programming",value:"Key Programming",id:25},{text:"New Key",value:"New Key",id:16},{text:"Flat Tire Changing",value:"Flat Tire Changing",id:4},{text:"Tire Repair",value:"Tire Repair",id:27},{text:"Tire Replacement",value:"Tire Replacement",id:32},{text:"Tire Inflation",value:"Tire Inflation",id:19},{text:"Dead Battery Jump-Start",value:"Dead Battery Jump-Start",id:3},{text:"Vehicle Battery Replacement",value:"Vehicle Battery Replacement",id:6},{text:"Car Battery Install",value:"Car Battery Install",id:12},{text:"Battery, Starter, & Alternator Testing",value:"Battery, Starter, & Alternator Testing",id:5},{text:"Fuel Delivery",value:"Fuel Delivery",id:14},{text:"Towing",value:"Towing",id:11},{text:"Other",value:"Other",id:35}]},1609:function(e){e.exports=window.React},5795:function(e){e.exports=window.ReactDOM}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=function(t,n,r,a){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var i=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))},o.u=function(e){return e+"."+{53:"99a66ca91fbf5ba4fb6f",62:"d545ad3c16e5d11f0c33",86:"d72ecb3f66d1a01e3a08",110:"58bb36f3b79ea464a556",223:"967a0e019d4d4604c7f3",425:"5cf4a21edb3c07d641e6",497:"41d7a0ff7695633cc575",817:"35db929862ab67f15ae3",982:"5d43048912b3e6997b4f"}[e]+".js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},n="phoenix-press:",o.l=function(e,r,a,l){if(t[e])t[e].push(r);else{var i,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+a){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",n+a),i.src=e),t[e]=[r];var m=function(n,r){i.onerror=i.onload=null,clearTimeout(p);var a=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(r)})),n)return n(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),s&&document.head.appendChild(i)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={792:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(n,a){r=e[t]=[n,a]}));n.push(r[2]=a);var l=o.p+o.u(t),i=new Error;o.l(l,(function(n){if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",i.name="ChunkLoadError",i.type=a,i.request=l,r[1](i)}}),"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,l=n[0],i=n[1],s=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(s)var u=s(o)}for(t&&t(n);c<l.length;c++)a=l[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self.webpackChunkphoenix_press=self.webpackChunkphoenix_press||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=o.O(void 0,[729],(function(){return o(1777)}));l=o.O(l)}();
//# sourceMappingURL=main.ecd0df066aa3fe045c22.js.map