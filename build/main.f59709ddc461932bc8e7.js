!function(){"use strict";var e,t,n,r={4338:function(e,t,n){n.r(t);var r=n(1609),a=n(9502),o=n(900);t.default=({index:e})=>0===e&&(0,r.createElement)(r.Fragment,null,LOCALIZED.DISCLAIMER_MESSAGE&&(0,r.createElement)(a.A,{severity:"info",sx:{padding:"1rem"}},(0,o.Ay)(LOCALIZED.DISCLAIMER_MESSAGE)))},3455:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(1609),a=n(5583),o=n(1385),l=n(4247),i=n(7636),s=(0,l.A)(i.A)((({theme:e})=>({backgroundColor:"#f0f0f0",borderRadius:"20px",padding:"10px 15px",position:"relative",maxWidth:"80%"}))),c=n(900),u=({question:e})=>{var t;const n=null!==(t=LOCALIZED?.ASSETS_URL)&&void 0!==t?t:"";return(0,r.createElement)(a.A,{direction:"row",spacing:2,alignItems:"flex-start"},(0,r.createElement)(o.A,{src:`${n}/avatar.jpg`,alt:"Technician Avatar"}),(0,r.createElement)(s,null,(0,r.createElement)("label",null,(0,c.Ay)(e.prompt))))}},2002:function(e,t,n){var r=n(1609),a=n.n(r),o=n(5338),l=n(4977),i=n(3650),s=n(4798),c=n(7636),u=n(5583),d=n(3357),m=n(2299),p=n(3455),f=n(1620),v=n(8864),g=n(4389),h=n(5737),y=n(8014),E=n(2687),b=n(8870),x=[{name:"phone",prompt:"What is your phone number?",inputs:[{name:"phone",type:"tel",label:"Enter your phone number",value:"",optional:!1},{name:"sms_consent",type:"checkbox",label:"Yes, send me SMS updates and notifications to keep me informed about my roadside service request.",value:!1,optional:!0}]},{name:"full_name",prompt:"What is your name?",inputs:[{name:"full_name",type:"text",label:"Full Name",value:"",optional:!0}]},{name:"location",prompt:"What is your current location?",inputs:[{name:"location",type:"geo",label:"Search for your location",value:"",obj:{},optional:!0}]},{name:"service_time",prompt:"When do you need service?",inputs:[{value:"",type:"datetime",name:"service_time",selected:"",optional:!1}]},{name:"service_type",prompt:"What service do you need?",inputs:[{value:[],valueId:null,type:"select",name:"service_type",optionsKey:"serviceOptions",options:[],optional:!1}]},{prompt:"Please provide your car details",inputs:[{name:"car_make",type:"text",label:"Car Make",value:"",optional:!0},{name:"car_model",type:"text",label:"Car Model",value:"",optional:!0},{name:"car_year",type:"text",label:"Car Year",value:"",optional:!0},{name:"car_color",type:"text",label:"Color",value:"",optional:!0},{name:"car_plate",type:"text",label:"License Plate",value:"",optional:!0}]},{prompt:"Please provide any additional information",inputs:[{name:"notes",type:"textarea",label:"Additional Information",value:"",optional:!0}]}],A=n(6892);const w=(0,r.createContext)(),S=({children:e})=>{const[t,n]=(0,r.useState)(x||null),[a,o]=(0,r.useState)(0),[l,i]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)(A.A||null),[f,v]=(0,r.useState)({});return(0,r.createElement)(w.Provider,{value:{questions:t,setQuestions:n,currentQuestionIndex:a,setCurrentQuestionIndex:o,loading:l,setLoading:i,submitted:s,setSubmitted:c,isFormVisible:u,setIsFormVisible:d,services:m,setServices:p,errors:f,setErrors:v}},e)};var C=n(7458),_=n(1769);const T=a().lazy((()=>n.e(982).then(n.bind(n,9982)))),k=a().lazy((()=>n.e(86).then(n.bind(n,1086)))),L=a().lazy((()=>n.e(110).then(n.bind(n,8729)))),I=a().lazy((()=>n.e(223).then(n.bind(n,2223)))),O=e=>{const t={};if(!e)return t;const n=e.find((e=>e.types.includes("street_number")))?.long_name,r=e.find((e=>e.types.includes("route")))?.short_name;return t.address_1=n&&r?`${n} ${r}`:"",t.city=e.find((e=>e.types.includes("locality")))?.long_name||"",t.state=e.find((e=>e.types.includes("administrative_area_level_1")))?.short_name||"",t.country=e.find((e=>e.types.includes("country")))?.short_name||"",t.zipcode=e.find((e=>e.types.includes("postal_code")))?.long_name||"",t},P=["places"];function j({input:e}){const{questions:t,currentQuestionIndex:n,setQuestions:a,errors:o,setErrors:l}=(0,r.useContext)(w),[i,s]=(0,r.useState)(!1),c=(0,r.useRef)(null),{isLoaded:u,loadError:m}=(0,_.RH)({googleMapsApiKey:LOCALIZED?.GMAPS_API_KEY,libraries:P});(0,r.useEffect)((()=>{if(c.current&&window.google)try{const e=new window.google.maps.places.Autocomplete(c.current);return e.addListener("place_changed",(()=>{try{const t=e.getPlace(),n=O(t.address_components);p(n)}catch(e){console.error("Error handling place_changed event:",e)}})),()=>{window.google.maps.event.clearInstanceListeners(e)}}catch(e){console.error("Error initializing Google Maps Autocomplete:",e)}}),[u]);const p=e=>{try{const r=[...t],i=r[n].inputs.find((e=>"location"===e.name));e.nativeEvent instanceof Event?i.value=e.target.value:(i.obj=e,i.value=`${e.address_1}, ${e.city}, ${e.state} ${e.zipcode}`),a(r);const s=f(i);l({...o,[i.name]:s})}catch(e){console.error("Error handling input change:",e)}},f=e=>{if(!e.optional)return e.value.trim()?"":"This field is required"};return m?(console.error("Error loading maps:",m),(0,r.createElement)("div",null,"Error loading maps")):u?(0,r.createElement)(r.Suspense,{fallback:(0,r.createElement)(d.A,null)},(0,r.createElement)(k,{spacing:2,direction:"column",sx:{marginTop:"1rem"}},(0,r.createElement)(T,{label:e.label,name:e.name,value:e.value,onChange:p,variant:"outlined",margin:"normal",fullWidth:!0,inputRef:c,InputProps:{endAdornment:i?(0,r.createElement)(d.A,{size:20}):null},required:!e.optional,error:!!o[e.name],helperText:o[e.name]}),(0,r.createElement)(L,{variant:"contained","aria-label":"Use my location",color:"primary",onClick:()=>{navigator.geolocation?(s(!0),navigator.geolocation.getCurrentPosition((e=>{try{const{latitude:t,longitude:n}=e.coords;(new window.google.maps.Geocoder).geocode({location:{lat:t,lng:n}},((e,t)=>{if(s(!1),"OK"===t&&e[0]){const t=O(e[0].address_components);p(t)}else console.error("Geocoder failed due to:",t)}))}catch(e){s(!1),console.error("Error in geolocation success callback:",e)}}),(e=>{s(!1),console.error("Error in getting geolocation:",e)}))):console.error("Geolocation is not supported by your browser.")},disabled:i},i?(0,r.createElement)(d.A,{size:20}):(0,r.createElement)(I,null),"Use My Current Location"))):(0,r.createElement)(C.A,null)}var q=n(779),D=n(9307),M=n(5724),$=n(3313),R=n(6347);function N({input:e}){const{questions:t,currentQuestionIndex:n,setQuestions:a,services:o,errors:l,setErrors:i}=(0,r.useContext)(w),[s,c]=(0,r.useState)([]),u=e=>{const{value:t,checked:n}=e.target;c((e=>n?[...e,t]:e.filter((e=>e!==t))))};(0,r.useEffect)((()=>{const e=[...t],r=e[n].inputs.find((e=>"service_type"===e.name)),c=o.filter((e=>s.includes(e.value)));r.value=c.map((e=>({value:e.value,id:e.id}))),a(e);const u=d(r);i({...l,[r.name]:u})}),[s]);const d=e=>{if(!e.optional)return e.value.length<1?"This field is required":""};return(0,r.createElement)(q.A,{component:"fieldset",fullWidth:!0,margin:"dense",error:l.service_type},(0,r.createElement)(D.A,{component:"legend"},"Select desired service(s)"),(0,r.createElement)(M.A,null,(0,r.createElement)($.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1,padding:0}},o.map((e=>(0,r.createElement)(v.A,{sx:{margin:0},control:(0,r.createElement)(g.A,{value:e.value,checked:s.includes(e.value),onChange:u,name:e.name,size:"small"}),label:e.text}))))),(0,r.createElement)(R.A,null,l.service_type))}function F({input:e,onChange:t}){const{errors:n,setErrors:a}=(0,r.useContext)(w);return(0,r.createElement)(f.A,{label:e.label,name:e.name,value:e.value,onChange:r=>{const{value:o}=r.target,l=(e=>{const t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`})(o),i=(e=>10!==e.replace(/\D/g,"").length?"Valid phone number is required.":"")(l);a({...n,[e.name]:i}),t({target:{name:"phone",value:l}})},fullWidth:!0,variant:"outlined",margin:"normal",type:"tel",required:!e.optional,error:!!n[e.name],helperText:n[e.name]})}var B=n(900),U=({question:e})=>{const{errors:t,setErrors:n}=(0,r.useContext)(w),{questions:a,setQuestions:o,currentQuestionIndex:l}=(0,r.useContext)(w),[i,s]=(0,r.useState)(new Date);(0,r.useEffect)((()=>{if(a){const e=[...a],t=e[l].inputs.find((e=>"service_time"===e.name));t&&(t.value=i,o(e))}}),[e,i]);const c=e=>{s(e)},d=e=>{const{name:r,value:i,type:s,checked:c}=e.target,u=[...a],d=u[l].inputs.find((e=>e.name===r));if(d.value="checkbox"===s?c:i,o(u),"text"===d.type||"checkbox"===d.type){const e=m(d);n({...t,[d.name]:e})}},m=e=>{if(!e.optional)switch(e.type){case"text":return e.value.trim()?"":"This field is required";case"checkbox":return e.value?"":"This field is required";default:return""}return""};return(0,r.createElement)(r.Fragment,null,e.inputs.map(((e,n)=>"tel"===e.type?(0,r.createElement)(F,{input:e,key:n,onChange:d}):"text"===e.type?(0,r.createElement)(f.A,{key:n,label:e.label,name:e.name,value:e.value,onChange:d,fullWidth:!0,variant:"outlined",margin:"normal",error:!!t[e.name],helperText:t[e.name],required:!e.optional}):"geo"===e.type?(0,r.createElement)(j,{input:e,key:n}):"select"===e.type?(0,r.createElement)(N,{input:e,key:n}):"textarea"===e.type?(0,r.createElement)(f.A,{key:n,label:e.label,name:e.name,value:e.value,onChange:d,fullWidth:!0,multiline:!0,rows:2,required:!e.optional,variant:"outlined",margin:"normal"}):"checkbox"===e.type?(0,r.createElement)(v.A,{sx:{marginBottom:"1rem"},key:n,control:(0,r.createElement)(g.A,{checked:e.value,onChange:d,name:e.name,required:!e.optional}),label:(0,B.Ay)(LOCALIZED.SMS_CONTENT_MESSAGE||e.label)}):"datetime"===e.type?(0,r.createElement)(h.$,{dateAdapter:b.h,key:n},(0,r.createElement)(u.A,{direction:"row",spacing:2,sx:{marginTop:"1rem"}},(0,r.createElement)(y.l,{label:"Select Date",value:i,onChange:c,disablePast:!0,fullWidth:!0}),(0,r.createElement)(E.A,{label:"Select Time",value:i,onChange:c,fullWidth:!0}))):null)))},W=n(4338);const z=(0,r.lazy)((()=>n.e(782).then(n.bind(n,3782)))),Q=()=>{const{questions:e,currentQuestionIndex:t,setCurrentQuestionIndex:n,loading:a,setLoading:o,submitted:f,setSubmitted:v,isFormVisible:g,setIsFormVisible:h,errors:y}=(0,r.useContext)(w),E=e[t],[b,x]=(0,r.useState)(!0),[A,S]=(0,r.useState)(!1),[C,_]=(0,r.useState)(null),[T,k]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=E.inputs.some((e=>y[e.name]));x(e)}),[y]),(0,r.useEffect)((()=>{if(g&&window.turnstile){const e=window.turnstile.render("#conversation-turnstile-widget",{sitekey:LOCALIZED.TURNSTILE_SITE_KEY,callback:e=>{k(e)},"expired-callback":()=>{window.turnstile.reset(e)}})}}),[g]);const L=()=>{h(!g)};return(0,r.createElement)("section",null,(0,r.createElement)("button",{onClick:L,id:"phoenix-show-form-button","aria-label":"Show Lead Form"},(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"e-font-icon-svg e-fas-comment-alt",viewBox:"0 0 512 512",width:"24",height:"24",fill:"#fff"},(0,r.createElement)("path",{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"}))),g&&(0,r.createElement)(l.A,{className:"phoenix-form"},(0,r.createElement)(i.A,{action:(0,r.createElement)(s.A,{onClick:L,"aria-label":"close"},(0,r.createElement)(m.A,null))}),(0,r.createElement)(r.Fragment,null,f&&(0,r.createElement)(c.A,null,(0,r.createElement)(u.A,{space:2},(0,r.createElement)(p.default,{question:{prompt:LOCALIZED.SUBMISSION_MESSAGE}}))),!f&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.A,null,(0,r.createElement)(u.A,{space:2},(0,r.createElement)(p.default,{question:E}),(0,r.createElement)(U,{question:E})),(0,r.createElement)(u.A,{direction:"row",spacing:2,sx:{width:"100%",display:"flex",my:"1rem",justifyContent:t>0?"space-between":"flex-end"}},t>0&&(0,r.createElement)(s.A,{variant:"contained",loading:a,onClick:()=>n(t-1)},"Back"),(0,r.createElement)(s.A,{sx:{justifySelf:"end"},variant:"contained",color:"primary",onClick:()=>{(async()=>{o(!0);const r=e.flatMap((e=>e.inputs.map((e=>{const{name:t,value:n,obj:r}=e;return r?{name:t,value:n,obj:r}:{name:t,value:n}})))),a={"Content-Type":"application/json","X-Turnstile-Token":T},l=window.location.origin.replace(/^https?:\/\//,"")+window.location.pathname.replace(/\/$/,"");if(t+1===e.length)return await(async(e,t)=>{try{o(!0),v(!0),C&&await fetch(`${LOCALIZED.API_URL}/submit-lead-form/${C}`,{method:"PUT",headers:{"Content-Type":"application/json","X-Turnstile-Token":T},body:JSON.stringify({submission:e,completed:!0,source:t})}),window?.dataLayer&&window.dataLayer.push({event:"form_submit",submission:e,source:t,completed:!0})}catch(e){console.error("There was an error",e)}finally{o(!1)}})(r,l);n(t+1),A||(S(!0),window?.dataLayer&&window.dataLayer.push({event:"form_start"}));try{if(!T)return!1;if(C)await fetch(`${LOCALIZED.API_URL}/submit-lead-form/${C}`,{method:"PUT",headers:a,body:JSON.stringify({submission:r,source:l})});else{const e=await fetch(`${LOCALIZED.API_URL}/submit-lead-form`,{method:"POST",headers:a,body:JSON.stringify({submission:r,source:l})}),t=await e.json();t?.id&&_(t?.id)}}catch(e){console.error("There was an error",e)}finally{o(!1)}})()},disabled:b||!T||f},t+1===e.length?"Submit":"Next")),(0,r.createElement)(u.A,{direction:"row",spacing:2,sx:{width:"100%",display:"flex",my:"1rem",justifyContent:"center",alignItems:"center"}},(0,r.createElement)(r.Fragment,null,a||!T&&(0,r.createElement)(d.A,null))),(0,r.createElement)(W.default,{index:t})))),(0,r.createElement)("div",{id:"conversation-turnstile-widget",className:"cf-turnstile",style:{display:"flex",justifyContent:"center",margin:"1rem 0",padding:"1rem"},"data-sitekey":LOCALIZED.TURNSTILE_SITE_KEY})))};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("phoenix-form-root");e&&(0,o.H)(e).render((0,r.createElement)(S,null,(0,r.createElement)(Q,null))),document.querySelectorAll(".phoenix-form-embed-root").forEach((e=>{(0,o.H)(e).render((0,r.createElement)(r.Suspense,{fallback:(0,r.createElement)(d.A,null)},(0,r.createElement)(z,null)))}))}))},6892:function(e,t){t.A=[{text:"Automotive Unlocking",value:"Automotive Unlocking",id:1},{text:"Key Programming",value:"Key Programming",id:25},{text:"New Key",value:"New Key",id:16},{text:"Flat Tire Changing",value:"Flat Tire Changing",id:4},{text:"Tire Repair",value:"Tire Repair",id:27},{text:"Tire Replacement",value:"Tire Replacement",id:32},{text:"Tire Inflation",value:"Tire Inflation",id:19},{text:"Dead Battery Jump-Start",value:"Dead Battery Jump-Start",id:3},{text:"Vehicle Battery Replacement",value:"Vehicle Battery Replacement",id:6},{text:"Car Battery Install",value:"Car Battery Install",id:12},{text:"Battery, Starter, & Alternator Testing",value:"Battery, Starter, & Alternator Testing",id:5},{text:"Fuel Delivery",value:"Fuel Delivery",id:14},{text:"Towing",value:"Towing",id:11},{text:"Other",value:"Other",id:35}]},1609:function(e){e.exports=window.React},5795:function(e){e.exports=window.ReactDOM}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=function(t,n,r,a){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var i=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))},o.u=function(e){return e+"."+{79:"66914be6076a26b64ef9",86:"d72ecb3f66d1a01e3a08",110:"58bb36f3b79ea464a556",119:"79947e547ebd5c0fcc6b",223:"967a0e019d4d4604c7f3",487:"86d062578f24db5af57a",779:"68a7fb9b4fb0c0f1aef1",782:"a866cd98d8c1c76f127d",982:"5d43048912b3e6997b4f"}[e]+".js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},n="phoenix-press:",o.l=function(e,r,a,l){if(t[e])t[e].push(r);else{var i,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+a){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",n+a),i.src=e),t[e]=[r];var m=function(n,r){i.onerror=i.onload=null,clearTimeout(p);var a=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(r)})),n)return n(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),s&&document.head.appendChild(i)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={792:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(n,a){r=e[t]=[n,a]}));n.push(r[2]=a);var l=o.p+o.u(t),i=new Error;o.l(l,(function(n){if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",i.name="ChunkLoadError",i.type=a,i.request=l,r[1](i)}}),"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,l=n[0],i=n[1],s=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(s)var u=s(o)}for(t&&t(n);c<l.length;c++)a=l[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self.webpackChunkphoenix_press=self.webpackChunkphoenix_press||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=o.O(void 0,[729],(function(){return o(2002)}));l=o.O(l)}();
//# sourceMappingURL=main.f59709ddc461932bc8e7.js.map